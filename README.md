# Smart Doorbell

Someone's knocking at the door, someone's ringing the bell. But what happens if you are not home? You can use an Intel Edison to keep track of all your visitors. When someone rings the bell, not only will it ring, but it can also logs it to a cloud-based storage system.

This "smart" doorbell requires the following components from the Grove Starter Kit Plus:

1. Intel Edison with Arduino breakout board
2. Grove Touch Sensor
3. Grove Buzzer
4. RGB LCD Display

## How It Works

This "smart" doorbell will do the following when the I2C Touch Sensor is pressed:

- Make a noise with the buzzer
- Display a message on the LCD Display
- Optionally, store the total number of doorbell rings using the "Intel IoT Example Datastore" running on your own Microsoft Azure account.

### How To Setup

To begin, clone the Intel IoT Examples with git on your computer:

    $ git clone https://github.com/hybridgroup/intel-iot-examples.git

Not sure how to do that? [Here is an excellent guide from Github on how to get started](https://help.github.com/desktop/guides/getting-started/).

## Adding to Eclipse IoT

Eclipse instructions go here...

When you're ready to run the example, you can click on the "Run" icon located at the bottom of the Eclipse editor.
This will send the code to the Edison, and it will run there.

### Directly On Edison

Alternatively, you can set up the code directly on the Edison yourself.

To get started, you can follow [this guide to installing Git on the Edison](https://github.com/intel-iot-devkit/edison-guides/wiki/Installing-Git-on-Intel-Edison).

Then, you can clone the repo onto your Edison after SSHing into it:

    $ git clone https://github.com/hybridgroup/intel-iot-examples.git

Then, navigate to the directory with this example.

### Connecting The Grove Sensors

![](./../../../images/doorbell.jpg)

You will need to have the Grove Shield connected to the Arduino-compatible breakout board, in order to plug in all the various Grove devices into the Grove shield. Make sure you have the tiny VCC switch on the Grove Shield set to the "5V" position.

Plug one end of a Grove cable into the "Touch Sensor", then connect the other end to the "D4" port on the Grove Shield.

Connect one end of a Grove cable into the "Buzzer", then plug the other end into the "D5" port on the Grove Shield.

Plug one end of a Grove cable into the "RGB LCD", then connect the other end into any of the "I2C" ports on the Grove Shield.

### Intel Edison setup

This example uses `libcurl`, which is already installed on the Intel Edison.

Further instructions on how to compile go here...

### Microsoft Azure server setup

You can optionally store the data generated by this example program in a backend database deployed using Microsoft Asuze, Node.js, and the Redis datastore.

For information on how to setup your own cloud data server, go to:

https://github.com/hybridgroup/intel-iot-examples-datastore

## Running The Example

To run the example:

    ./doorbell

To run the example with the optional Microsoft Azure datastore:

    SERVER="http://intel-examples.azurewebsites.net/counter/doorbell/inc" AUTH_TOKEN="YOURTOKEN" ./doorbell

### Determining The Intel Edison IP Address

You can determine what IP address the Intel Edison is connected to by running:

    ip addr show | grep wlan

You will see output similar to:

    3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000
        inet 192.168.1.13/24 brd 192.168.1.255 scope global wlan0

The IP address is shown next to `inet`. In the example above, the IP address is `192.168.1.13`
